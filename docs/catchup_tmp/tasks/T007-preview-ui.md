# T007: ë¯¸ë¦¬ë³´ê¸° í™”ë©´

> ìƒíƒœ: `pending`
> ì˜ì¡´: T006
> ì»¤ë°‹: -

## ëª©í‘œ

ë”°ë¼ì¡ê¸° ì„¤ì • ê¸°ë°˜ìœ¼ë¡œ ë¶„ë°°ëœ ìŠ¤ì¼€ì¤„ ë¯¸ë¦¬ë³´ê¸° í™”ë©´ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

## UI ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š ë¯¸ë¦¬ë³´ê¸°                        [X] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ì´ëŒ€ë¡œ ì§„í–‰í•˜ë©´...                      â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“š ì´ 14ì¼ì¹˜ ë”°ë¼ì¡ê¸°             â”‚   â”‚
â”‚  â”‚ ğŸ“– ì´ 45ì¥                       â”‚   â”‚
â”‚  â”‚ ğŸ“ˆ í•˜ë£¨ í‰ê·  2.3íšŒ (7.5ì¥)        â”‚   â”‚
â”‚  â”‚ ğŸ“… 1ì›” 28ì¼ì— ì›ë³¸ í”Œëœê³¼ í•©ë¥˜     â”‚   â”‚
â”‚  â”‚ â±ï¸ ì˜ˆìƒ ì†Œìš”: 6ì¼                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  âš ï¸ ê²½ê³                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ëª©í‘œì¼ê¹Œì§€ ì™„ë£Œí•˜ë ¤ë©´ í•˜ë£¨ í‰ê·     â”‚   â”‚
â”‚  â”‚ 3.5íšŒë¥¼ ì½ì–´ì•¼ í•©ë‹ˆë‹¤             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  ğŸ“… ì¼ìë³„ ê³„íš                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¼ 1/15 (ìˆ˜) - 2íšŒ, 6ì¥            â”‚   â”‚
â”‚  â”‚   â€¢ ì°½ì„¸ê¸° 1-2ì¥ (1/1 ë°€ë¦¼)       â”‚   â”‚
â”‚  â”‚   â€¢ ì°½ì„¸ê¸° 3-4ì¥ (1/2 ë°€ë¦¼)       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â–¼ 1/16 (ëª©) - 2íšŒ, 5ì¥            â”‚   â”‚
â”‚  â”‚   â€¢ ì°½ì„¸ê¸° 5-6ì¥                 â”‚   â”‚
â”‚  â”‚   â€¢ ì°½ì„¸ê¸° 7ì¥                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â–¼ 1/17 (ê¸ˆ) - 3íšŒ, 8ì¥            â”‚   â”‚
â”‚  â”‚   â€¢ ...                         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â­ 1/18 (í† ) - 4íšŒ, 12ì¥ (ì£¼ë§)    â”‚   â”‚
â”‚  â”‚   â€¢ ...                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â—€ ë‹¤ì‹œì„¤ì •  â”‚  â”‚   ì‹œì‘í•˜ê¸° ğŸš€   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì‘ì—… ë‚´ìš©

### 1. ì»´í¬ë„ŒíŠ¸

`frontend/app/components/catchup/CatchupPreview.vue`:

```vue
<script setup lang="ts">
interface PreviewData {
  valid: boolean
  summary: {
    total_schedules: number
    total_chapters: number
    daily_average_readings: number
    daily_average_chapters: number
    estimated_days: number
    rejoin_date: string
  }
  preview_schedules: PreviewDay[]
  warnings: string[]
}

interface PreviewDay {
  date: string
  is_weekend: boolean
  items: PreviewItem[]
  total_chapters: number
}

const props = defineProps<{
  preview: PreviewData
  settings: CatchupSettings
}>()

const emit = defineEmits(['back', 'confirm'])

// ë‚ ì§œë³„ë¡œ ì ‘ê¸°/í¼ì¹˜ê¸°
const expandedDates = ref<Set<string>>(new Set())

const toggleDate = (date: string) => {
  if (expandedDates.value.has(date)) {
    expandedDates.value.delete(date)
  } else {
    expandedDates.value.add(date)
  }
}

// ì²˜ìŒ 3ì¼ì€ ê¸°ë³¸ í¼ì¹¨
onMounted(() => {
  props.preview.preview_schedules.slice(0, 3).forEach(day => {
    expandedDates.value.add(day.date)
  })
})
</script>

<template>
  <div class="catchup-preview">
    <!-- ìš”ì•½ ì¹´ë“œ -->
    <div class="summary-card">
      <div class="stat">
        <span class="icon">ğŸ“š</span>
        <span>ì´ {{ preview.summary.total_schedules }}ì¼ì¹˜ ë”°ë¼ì¡ê¸°</span>
      </div>
      <div class="stat">
        <span class="icon">ğŸ“–</span>
        <span>ì´ {{ preview.summary.total_chapters }}ì¥</span>
      </div>
      <div class="stat">
        <span class="icon">ğŸ“ˆ</span>
        <span>
          í•˜ë£¨ í‰ê·  {{ preview.summary.daily_average_readings.toFixed(1) }}íšŒ
          ({{ preview.summary.daily_average_chapters.toFixed(1) }}ì¥)
        </span>
      </div>
      <div class="stat">
        <span class="icon">ğŸ“…</span>
        <span>{{ formatDate(preview.summary.rejoin_date) }}ì— ì›ë³¸ í”Œëœê³¼ í•©ë¥˜</span>
      </div>
      <div class="stat">
        <span class="icon">â±ï¸</span>
        <span>ì˜ˆìƒ ì†Œìš”: {{ preview.summary.estimated_days }}ì¼</span>
      </div>
    </div>

    <!-- ê²½ê³  -->
    <div v-if="preview.warnings.length" class="warnings">
      <div v-for="warning in preview.warnings" class="warning">
        âš ï¸ {{ warning }}
      </div>
    </div>

    <!-- ì¼ìë³„ ê³„íš -->
    <div class="schedule-list">
      <div
        v-for="day in preview.preview_schedules"
        :key="day.date"
        class="day-group"
        :class="{ weekend: day.is_weekend }"
      >
        <div class="day-header" @click="toggleDate(day.date)">
          <span v-if="day.is_weekend" class="weekend-badge">â­</span>
          <span class="date">{{ formatDate(day.date) }}</span>
          <span class="count">{{ day.items.length }}íšŒ, {{ day.total_chapters }}ì¥</span>
          <span class="toggle">{{ expandedDates.has(day.date) ? 'â–¼' : 'â–¶' }}</span>
        </div>
        <div v-if="expandedDates.has(day.date)" class="day-items">
          <div v-for="item in day.items" class="item">
            â€¢ {{ item.book }} {{ item.start_chapter }}-{{ item.end_chapter }}ì¥
            <span class="original-date">({{ formatDate(item.original_date) }} ë°€ë¦¼)</span>
          </div>
        </div>
      </div>
    </div>

    <!-- ë²„íŠ¼ -->
    <div class="actions">
      <button @click="emit('back')" class="btn-secondary">â—€ ë‹¤ì‹œì„¤ì •</button>
      <button @click="emit('confirm')" class="btn-primary">ì‹œì‘í•˜ê¸° ğŸš€</button>
    </div>
  </div>
</template>
```

## íŒŒì¼ ë³€ê²½

- `frontend/app/components/catchup/CatchupPreview.vue` (ì‹ ê·œ)
- `frontend/app/components/catchup/CatchupSettingsModal.vue` (ìˆ˜ì • - ë¯¸ë¦¬ë³´ê¸° ì—°ë™)

## ê²€ì¦ ë°©ë²•

1. ì„¤ì • ëª¨ë‹¬ì—ì„œ ë¯¸ë¦¬ë³´ê¸° ë²„íŠ¼ í´ë¦­
2. ë¯¸ë¦¬ë³´ê¸° í™”ë©´ í‘œì‹œ í™•ì¸
3. ìš”ì•½ ì •ë³´ ì •í™•ì„± í™•ì¸
4. ì¼ìë³„ ìŠ¤ì¼€ì¤„ ì ‘ê¸°/í¼ì¹˜ê¸° ë™ì‘
5. ì£¼ë§ í‘œì‹œ í™•ì¸
6. ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ í™•ì¸
7. ë‹¤ì‹œì„¤ì •/ì‹œì‘í•˜ê¸° ë²„íŠ¼ ë™ì‘

## ì™„ë£Œ ì¡°ê±´

- [ ] ìš”ì•½ ì¹´ë“œ í‘œì‹œ
- [ ] ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ (ìˆëŠ” ê²½ìš°)
- [ ] ì¼ìë³„ ìŠ¤ì¼€ì¤„ ëª©ë¡
- [ ] ì ‘ê¸°/í¼ì¹˜ê¸° ë™ì‘
- [ ] ì£¼ë§ í•˜ì´ë¼ì´íŠ¸
- [ ] ë‹¤ì‹œì„¤ì • ë²„íŠ¼ â†’ ì„¤ì • í™”ë©´ ë³µê·€
- [ ] ì‹œì‘í•˜ê¸° ë²„íŠ¼ â†’ ì„¸ì…˜ ìƒì„±
